<!DOCTYPE html>
<html><head>
<link rel="icon" href="https://ucbright2656.github.io/UCB_games/picture/op_logo3.png">
<title>Optimus Games</title>
<meta http-equiv="Content-type" content="text/html; charset=utf-8"/>
<script>WebSite={runType:'singleHTML', useEditButton:false};</script><link rel="stylesheet" href="https://edit.tonyu.jp//css/runtime.css"/><script src="https://edit.tonyu.jp/images/base.png.js"></script>
<script src="https://edit.tonyu.jp/images/Sample.png.js"></script>
<script src="https://edit.tonyu.jp/images/neko.png.js"></script>
<script src="https://edit.tonyu.jp/images/mapchip.png.js"></script>
<script src="https://edit.tonyu.jp/js/lib/jquery-1.12.1.js" type="text/javascript"></script>
<script src="https://edit.tonyu.jp/js/g2/runScript_concat.min.js" type="text/javascript"></script>
<script src="https://edit.tonyu.jp/js/runtime/detectUnsupported.js"></script><script language='text/tonyu' type='text/tonyu' data-filename='Element.tonyu' data-lastupdate='1705896984209' >extends Label;
</script>

<script language='text/tonyu' type='text/tonyu' data-filename='Elementinfo.tonyu' data-lastupdate='1705901001185' >$element=new Array;
$elementpic=new Array;

$element[1]=new Array;
$element[2]=new Array;
$element[3]=new Array;
$element[4]=new Array;
$elementpic[1]=new Array;
$elementpic[2]=new Array;
$elementpic[3]=new Array;
$elementpic[4]=new Array;

//レベル1/20番まで
$element[1]=["水素","ヘリウム","リチウム","ベリリウム","ホウ素",
"炭素","窒素","酸素","フッ素","ネオン",
"ナトリウム","マグネシウム","アルミニウム","ケイ素","リン",
"硫黄","塩素","アルゴン","カリウム","カルシウム"];
$elementpic[1]=["H","He","Li","Be","B",
"C","N","O","F","Ne",
"Na","Mg","Al","Si","P",
"S","Cl","Ar","K","Ca"];


//レベル2/38番まで
$element[2]=["水素","ヘリウム","リチウム","ベリリウム","ホウ素",
"炭素","窒素","酸素","フッ素","ネオン",
"ナトリウム","マグネシウム","アルミニウム","ケイ素","リン",
"硫黄","塩素","アルゴン","カリウム","カルシウム",//ここまでレベル1と共通
"スカンジウム","チタン","バナジウム","クロム","マンガン",
"鉄","コバルト","ニッケル","銅","亜鉛",
"ガリウム","ゲルマニウム","ヒ素","セレン","臭素",
"クリプトン","ルビジウム","ストロンチウム"];
$elementpic[2]=["H","He","Li","Be","B",
"C","N","O","F","Ne",
"Na","Mg","Al","Si","P",
"S","Cl","Ar","K","Ca",//ここまでレベル1と共通
"Sc","Ti","V","Cr","Mn",
"Fe","Co","Ni","Cu","Zn",
"Ga","Ge","As","Se","Br",
"Kr","Rb","Sr"];

//レベル3/ランタノイドまで
$element[3]=["水素","ヘリウム","リチウム","ベリリウム","ホウ素",
"炭素","窒素","酸素","フッ素","ネオン",
"ナトリウム","マグネシウム","アルミニウム","ケイ素","リン",
"硫黄","塩素","アルゴン","カリウム","カルシウム",//ここまでレベル1と共通
"スカンジウム","チタン","バナジウム","クロム","マンガン",
"鉄","コバルト","ニッケル","銅","亜鉛",
"ガリウム","ゲルマニウム","ヒ素","セレン","臭素",
"クリプトン","ルビジウム","ストロンチウム",//ここまでレベル2と共通
"イットリウム","ジルコニウム","ニオブ","モリブデン","テクネチウム",
"ルテニウム","ロジウム","パラジウム","銀","カドミウム",
"インジウム","スズ","アンチモン","テルル","ヨウ素",
"キセノン","セシウム","バリウム","ランタン","セリウム",
"プラセオジム","ネオジム","プロメチウム","サマリウム","ユーロピウム",
"ガドリニウム","テルビウム","ジスプロシウム","ホルミウム","エルビウム",
"ツリウム","イッテルビウム","ルテチウム"];
$elementpic[3]=["H","He","Li","Be","B",
"C","N","O","F","Ne",
"Na","Mg","Al","Si","P",
"S","Cl","Ar","K","Ca",//ここまでレベル1と共通
"Sc","Ti","V","Cr","Mn",
"Fe","Co","Ni","Cu","Zn",
"Ga","Ge","As","Se","Br",
"Kr","Rb","Sr",//ここまでレベル2と共通
"Y","Zr","Nb","Mo","Tc",
"Ru","Rh","Pd","Ag","Cd",
"In","Sn","Sb","Te","I",
"Xe","Cs","Ba","La","Ce",
"Pr","Nd","Pm","Sm","Eu",
"Gd","Tb","Dy","Ho","Er",
"Tm","Yb","Lu"];

//レベル4/まで
$element[4]=["水素","ヘリウム","リチウム","ベリリウム","ホウ素",
"炭素","窒素","酸素","フッ素","ネオン",
"ナトリウム","マグネシウム","アルミニウム","ケイ素","リン",
"硫黄","塩素","アルゴン","カリウム","カルシウム",//ここまでレベル1と共通
"スカンジウム","チタン","バナジウム","クロム","マンガン",
"鉄","コバルト","ニッケル","銅","亜鉛",
"ガリウム","ゲルマニウム","ヒ素","セレン","臭素",
"クリプトン","ルビジウム","ストロンチウム",//ここまでレベル2と共通
"イットリウム","ジルコニウム","ニオブ","モリブデン","テクネチウム",
"ルテニウム","ロジウム","パラジウム","銀","カドミウム",
"インジウム","スズ","アンチモン","テルル","ヨウ素",
"キセノン","セシウム","バリウム","ランタン","セリウム",
"プラセオジム","ネオジム","プロメチウム","サマリウム","ユーロピウム",
"ガドリニウム","テルビウム","ジスプロシウム","ホルミウム","エルビウム",
"ツリウム","イッテルビウム","ルテチウム",//ここまでレベル3と共通
"ハフニウム","タンタル","タングステン","レニウム","オスミウム",
"イリジウム","白金","金","水銀","タリウム",
"鉛","ビスマス","ポロニウム","アスタチン","ラドン",
"フランシウム","ラジウム","アクチニウム","トリウム","プロトアクチニウム",
"ウラン","ネプツニウム","プルトニウム","アメリシウム","キュリウム",
"バークリウム","カリホルニウム","ｱｲﾝｽﾀｲﾆｳﾑ","フェルミウム","メンデレビウム",
"ノーベリウム","ローレンシウム","ラザホージウム","ドブニウム","シーボーギウム",
"ボーリウム","ハッシウム","マイトネリウム","ダースタチウム","レントゲニウム",
"コペルニシウム","ニホニウム","フレロビウム","モスコビウム","リバモリウム",
"テネシン","オガネソン"];
$elementpic[4]=["H","He","Li","Be","B",
"C","N","O","F","Ne",
"Na","Mg","Al","Si","P",
"S","Cl","Ar","K","Ca",//ここまでレベル1と共通
"Sc","Ti","V","Cr","Mn",
"Fe","Co","Ni","Cu","Zn",
"Ga","Ge","As","Se","Br",
"Kr","Rb","Sr",//ここまでレベル2と共通
"Y","Zr","Nb","Mo","Tc",
"Ru","Rh","Pd","Ag","Cd",
"In","Sn","Sb","Te","I",
"Xe","Cs","Ba","La","Ce",
"Pr","Nd","Pm","Sm","Eu",
"Gd","Tb","Dy","Ho","Er",
"Tm","Yb","Lu",//ここまでレベル3と共通
"Hf","Ta","W","Re","Os",
"Ir","Pt","Au","Hg","Tl",
"Pb","Bi","Po","At","Rn",
"Fr","Ra","Ac","Th","Pa",
"U","Np","Pu","Am","Cm",
"Bk","Cf","Es","Fm","Md",
"No","Lr","Rf","Db","Sg",
"Bh","Hs","Mt","Ds","Rg",
"Cn","Nh","Fl","Mc","Lv",
"Ts","On"];






</script>

<script language='text/tonyu' type='text/tonyu' data-filename='Main.tonyu' data-lastupdate='1705901010581' >includes Problem;

new Elementinfo;

$Screen.setBGColor("skyblue");//背景

$highscoreFile=new Array;
$highscore=new Array;

$highscoreFile[1]=file("elementgamehighscorelevel11.json");
$highscoreFile[2]=file("elementgamehighscorelevel22.json");
$highscoreFile[3]=file("elementgamehighscorelevel33.json");
$highscoreFile[4]=file("elementgamehighscorelevel44.json");

for (level=1; level<=4; level++) {
    if ($highscoreFile[level].exists()) {
        $highscore[level]=$highscoreFile[level].obj();
    } else {
        $highscore[level]=0;
    }
}

new Label{x:$screenWidth/2,y:$screenHeight/2-100,size:90,fillStyle:"#C49773",text:"元素クイズ",font:"ＭＳ ゴシック"};
$start=new Button{top:$screenHeight/2-20+100,width:200,height:40,left:$screenWidth/2-100,fillStyle:"#C49773",text:"開始"};

$ansbut=new Array;

$maxcnt=new Array;
$maxcnt[1]=10;
$maxcnt[2]=10;
$maxcnt[3]=10;
$maxcnt[4]=10;

$hen=new Array;
$hen[1]="20番まで";
$hen[2]="38番まで";
$hen[3]="ﾗﾝﾀﾉｲﾄﾞまで";
$hen[4]="118番まで";

$sit="start";
$mode="first";
while(1){
    while($sit=="start" || $sit=="restart"){
        if ($start.clicked==1 || $sit=="restart"){
            $sit="levelselect";
            $frontLayer.all().die();
            $levelbutton=new Array;
            for (i=0; i<4; i++) {
                $levelbutton[i]=new Button{top:i*100+50,width:200,height:40,left:$screenWidth/2-100,fillStyle:"yellow",text:$hen[i+1]};
            }
        }
    }

    while($sit=="levelselect"){
        for (i=0; i<4; i++) {
            if ($levelbutton[i].clicked==1){
                $sit=i+1;
                $frontLayer.all().die();
            }
        }
    }
    
    for (level=1; level<=4; level++) {
        while($sit==level){
            if ($mode=="first"){//最初
                $score=0;
                $scorelabel=new Label{x:$screenWidth/2,y:$screenHeight/2-200,size:30,fillStyle:"#000",template:"$score",layer:$mainLayer};
                cnt=0;
                problem(level);
                $mode="think";
            }
            while($mode=="think"){//考え中
                for (i=1; i<=4; i++) {
                    if ($ansbut[i].clicked==1){
                        if ($answer==i){
                            $score+=1;
                        }
                        $frontLayer.all().die();
                        cnt+=1;
                        if (cnt>=$maxcnt[level])$mode="result";
                        if (cnt<=$maxcnt[level]-1)problem(level);
                    }
                }
            }
        
            while($mode=="result"){//結果
                if (cnt==$maxcnt[level]){
                    $scorelabel.die();
                    if ($highscore[level]<=$score){
                        $highscore[level]=[$score];
                        $highscoreview=$highscore[level];
                        $highscoreFile[level].obj($highscoreview);
                    }
                    $highscoreview=$highscore[level];
                    $scorelabel=new Label{x:$screenWidth/2+20,y:$screenHeight/2-100,size:50,fillStyle:"red",template:"スコア:$score",layer:$mainLayer};
                    $highscorelabel=new Label{x:$screenWidth/2-50+20,y:$screenHeight/2,size:50,fillStyle:"red",template:"ハイスコア:$highscoreview",layer:$mainLayer};
                    $restart=new Button{top:$screenHeight/2-20+200,width:220,height:40,left:5,fillStyle:"green",text:"もう一回"};
                    $tweet=new Button{top:$screenHeight/2-20+200,width:220,height:40,left:235,fillStyle:"blue",text:"Xに投稿する"};
                    cnt=0;
                }
                if ($restart.clicked==1){
                    $scorelabel.die();
                    $highscorelabel.die();
                    $restart.die();
                    $tweet.die();
                    $sit="restart";
                    $mode="first";
                }
                if ($tweet.clicked==1){
                    $WebPage.openShareTweet("元素クイズ"+$hen[$sit]+"のハイスコア:"+$highscore[$sit], "https://ucbright2656.github.io/UCB_games/", "オプゲー,オプイン,元素クイズ");
                }
            }
        }
    }
update();}</script>

<script language='text/tonyu' type='text/tonyu' data-filename='Problem.tonyu' data-lastupdate='1705901042111' >\shuffle(a,b){//追加するシンボルをシャッフルする
    for (s=0; s<8000; s++) {
        r1=rnd(a.length);
        r2=rnd(a.length);
        wk1=a[r1];
        wk2=b[r1];
        a[r1]=a[r2];
        a[r2]=wk1;
        b[r1]=b[r2];
        b[r2]=wk2;
    }
}

\problem(level){
    shuffle($element[level],$elementpic[level]);
    $answer=rnd(4)+1;
    new Element{x:$screenWidth/2,y:$screenHeight/2-50,scaleX:4,text:$elementpic[level][$answer],size:150,layer:$frontLayer};
    $ansbut[1]=new Button{top:$screenHeight/2-20+150,width:220,height:40,left:5,fillStyle:"red",text:$element[level][1]};
    $ansbut[2]=new Button{top:$screenHeight/2-20+150,width:220,height:40,left:235,fillStyle:"red",text:$element[level][2]};
    $ansbut[3]=new Button{top:$screenHeight/2-20+200,width:220,height:40,left:5,fillStyle:"red",text:$element[level][3]};
    $ansbut[4]=new Button{top:$screenHeight/2-20+200,width:220,height:40,left:235,fillStyle:"red",text:$element[level][4]};
}</script>

<script language='text/tonyu' type='text/tonyu' data-filename='options.json' data-lastupdate='1705896812242' >
{
    "compiler": {
        "namespace": "user",
        "defaultSuperClass": "kernel.Actor",
        "dependingProjects": [
            {
                "namespace": "kernel"
            }
        ]
    },
    "run": {
        "mainClass": "user.Main",
        "bootClass": "kernel.Boot",
        "globals": {
            "$defaultFPS": 60,
            "$imageSmoothingDisabled": true,
            "$soundLoadAndDecode": false
        }
    },
    "plugins": {},
    "kernelEditable": false,
    "language": "tonyu",
    "version": 1644637379023
}</script>

<script language='text/tonyu' type='text/tonyu' data-filename='res.json' data-lastupdate='1705973612292' >
{
    "images": [
        {
            "name": "$pat_base",
            "url": "images/base.png",
            "pwidth": 32,
            "pheight": 32
        },
        {
            "name": "$pat_sample",
            "url": "images/Sample.png"
        },
        {
            "name": "$pat_neko",
            "url": "images/neko.png",
            "pwidth": 32,
            "pheight": 32
        },
        {
            "name": "$pat_mapchip",
            "url": "images/mapchip.png",
            "pwidth": 32,
            "pheight": 32
        }
    ],
    "sounds": []
}</script>

</head><body><div id='splash' style='position:relative; height: 100%;'>
    <!--ここに，ロード中に表示する内容を記述できます。-->
    <!--You can write here what you want to show while loading. -->
    <div class='progress'>
        <!-- ここにロード中の進捗が表示されます．表示したくない場合はこのdiv要素を削除してください。 -->
        <!-- This shows progress. If you don't want to show, remove this element. -->
    </div>
    <div class='unsupported' style="display:none;">
        <!-- ここに非対応ブラウザ向けメッセージが表示されます．表示したくない場合はこのdiv要素を削除してください。 -->
        <!-- This shows message for unsupported browsers. If you don't want to show, remove this element. -->
        <p>お使いのブラウザではこのプログラムは動作しません．他のブラウザをお試しください．</p>
        <p>The program does not run in this browser. Try another browser.</p>
    </div>
</div>
<!--
Open this site when editing this game:
https://edit.tonyu.jp/index.html?importFromHTML=1
--></body></html>
